<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Merrick Trade City â€” User Panel</title>
<link rel="icon" type="image/png" href="A_logo_for_Merrick_Trade_City_is_displayed_against.png.jpg">
<style>
  body { margin:0; font-family: Inter, Arial, sans-serif; background:#0a1020; color:#fff;}
  header { display:flex; align-items:center; padding:10px; background:#12182b;}
  header img { height:40px; margin-right:10px; }
  nav { display:flex; gap:10px; padding:10px; background:#1b2340;}
  nav button { padding:5px 10px; cursor:pointer; }
  section { padding:20px; }
  .bot-card { border:1px solid #333; padding:10px; margin:10px 0; background:#12182b; }
  input[type="file"] { color:#fff; }
</style>
</head>
<body>

<header>
  <img src="A_logo_for_Merrick_Trade_City_is_displayed_against.png.jpg" alt="Logo">
  <h1>User Panel</h1>
</header>

<nav>
  <button onclick="showSection('dashboard')">Dashboard</button>
  <button onclick="showSection('bots')">My Bots</button>
  <button onclick="showSection('shared')">Shared Bots</button>
  <button onclick="showSection('upload')">Upload Bot</button>
  <button onclick="showSection('tutorial')">Tutorial</button>
</nav>

<section id="dashboard">
  <h2>Welcome, <span id="username">User</span></h2>
  <p>Balance: $<span id="balance">0</span></p>
</section>

<section id="bots" style="display:none;">
  <h2>My Bots</h2>
  <div id="userBotsContainer"></div>
</section>

<section id="shared" style="display:none;">
  <h2>Shared Bots</h2>
  <div id="sharedBotsContainer"></div>
</section>

<section id="upload" style="display:none;">
  <h2>Upload Your Bot (.xml)</h2>
  <input type="file" id="botFile" accept=".xml">
  <button onclick="uploadUserBot()">Upload Bot</button>
</section>

<section id="tutorial" style="display:none;">
  <h2>How to Add Bots</h2>
  <iframe width="560" height="315" src="https://www.youtube.com/embed/yup6kew1BBU" title="YouTube video tutorial" frameborder="0" allowfullscreen></iframe>
</section>

<script>
  let currentUser = {username: "DemoUser", balance: 100};
  let userBots = [];
  let sharedBots = [];

  document.getElementById('username').textContent = currentUser.username;
  document.getElementById('balance').textContent = currentUser.balance;

  function showSection(sectionId) {
    document.querySelectorAll('section').forEach(sec => sec.style.display='none');
    document.getElementById(sectionId).style.display='block';
  }

  // Load shared bots (from GitHub JSON or similar)
  async function loadSharedBots() {
    try {
      const res = await fetch('https://raw.githubusercontent.com/your-repo/bots/main/sharedBots.json');
      sharedBots = await res.json();
      renderBots(sharedBots, 'sharedBotsContainer');
    } catch(err) { console.error(err); }
  }

  // Render bots in container
  function renderBots(bots, containerId) {
    const container = document.getElementById(containerId);
    container.innerHTML = '';
    bots.forEach(bot => {
      const div = document.createElement('div');
      div.className = 'bot-card';
      div.innerHTML = `<h3>${bot.name}</h3>
                       <pre>${bot.xml.slice(0,200)}...</pre>`;
      container.appendChild(div);
    });
  }

  // Upload user bot
  function uploadUserBot() {
    const fileInput = document.getElementById('botFile');
    const file = fileInput.files[0];
    if (!file) return alert('Select a .xml bot file');
    const reader = new FileReader();
    reader.onload = (e) => {
      const xmlContent = e.target.result;
      const botName = file.name.split('.xml')[0];
      const botObj = {name: botName, owner: currentUser.username, xml: xmlContent};
      userBots.push(botObj);
      renderBots(userBots, 'userBotsContainer');
      saveUserBotsToGitHub(); // function to push user bots to GitHub
    };
    reader.readAsText(file);
  }

  async function saveUserBotsToGitHub() {
    // Implement GitHub push API here
    console.log('User bots would be saved to GitHub', userBots);
  }

  // Initial load
  loadSharedBots();
</script>

</body>
</html>
