~~~{"variant":"standard","title":"Merrick Admin Panel with GitHub","id":"88901"}
<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1.0">
<title>Merrick Trade City â€” Admin Panel</title>
<link rel="icon" type="image/png" href="A_logo_for_Merrick_Trade_City_is_displayed_against.png.jpg">
<style>
/* Keep your previous styles intact */
:root{--bg:#0a1025;--accent:#7c5cff;}
body{margin:0;font-family:Inter,Arial,sans-serif;background:var(--bg);color:#fff;display:flex;min-height:100vh}
.sidebar{width:220px;background:linear-gradient(180deg,#7c5cff,#0f0c29);padding:18px;display:flex;flex-direction:column;gap:12px}
.sidebar h2{margin:0;text-align:center}
.sidebar button{background:none;border:none;color:#fff;padding:8px;text-align:left;cursor:pointer;border-radius:6px}
.sidebar button:hover{background:rgba(255,255,255,0.1)}
.main{flex:1;padding:18px;display:flex;flex-direction:column;gap:14px}
.card{background:rgba(255,255,255,0.04);padding:12px;border-radius:10px;flex:1}
.table{width:100%;border-collapse:collapse}
.table th,.table td{padding:8px;text-align:left;border-bottom:1px solid rgba(255,255,255,0.1)}
.btn{padding:8px 10px;border-radius:8px;border:none;cursor:pointer}
.btn-ghost{background:transparent;border:1px solid rgba(255,255,255,0.06);color:#ddd}
.btn-primary{background:linear-gradient(90deg,#7c5cff,#ff6b6b);color:#fff}
input,textarea{padding:8px;border-radius:6px;border:none;background:rgba(255,255,255,0.05);color:#fff;width:100%}
</style>
</head>
<body>
<div class="sidebar">
  <h2>Merrick Admin</h2>
  <button data-section="dashboard">Dashboard</button>
  <button data-section="users">Users</button>
  <button data-section="bots">Bots</button>
  <button data-section="transactions">Transactions</button>
  <button data-section="settings">Settings</button>
  <div style="margin-top:auto">
    <button id="logoutBtn" class="btn btn-ghost">Logout</button>
  </div>
</div>

<div class="main">
<h1 style="margin:0;font-size:1.3rem">Admin Dashboard</h1>
<div id="dashboardSection" class="card">
  <div class="summary">
    <div class="card"><h3>Total Users</h3><p id="totalUsers">0</p></div>
    <div class="card"><h3>Total Bots</h3><p id="totalBots">0</p></div>
    <div class="card"><h3>Total Balance</h3><p id="totalBalance">Ksh 0</p></div>
  </div>
</div>

<div id="usersSection" class="card" style="display:none">
  <h3>All Users & Activities</h3>
  <table class="table" id="userTable">
    <thead><tr><th>Name</th><th>Email</th><th>Balance</th><th>Last Activity</th></tr></thead>
    <tbody></tbody>
  </table>
</div>

<div id="botsSection" class="card" style="display:none">
  <h3>Manage Bots</h3>
  <input type="file" id="botFile" accept=".xml">
  <input type="text" id="botCategory" placeholder="Category">
  <input type="number" id="botPrice" placeholder="Price (Ksh)">
  <button class="btn btn-primary" id="addBotBtn">Add Bot</button>
  <h4 style="margin-top:12px">Stored Bots</h4>
  <table class="table" id="botTable">
    <thead><tr><th>File</th><th>Category</th><th>Price</th><th>Action</th></tr></thead>
    <tbody></tbody>
  </table>
</div>

<div id="transactionsSection" class="card" style="display:none">
  <h3>Transactions</h3>
  <table class="table" id="txTable">
    <thead><tr><th>User</th><th>Bot</th><th>Amount</th><th>Date</th></tr></thead>
    <tbody></tbody>
  </table>
</div>

<div id="settingsSection" class="card" style="display:none">
  <h3>Settings</h3>
  <label>GitHub Token</label>
  <input id="githubToken" placeholder="Enter GitHub Personal Access Token">
  <label>Repository (username/repo)</label>
  <input id="repoName" placeholder="e.g. kelvin/merrick-bots">
  <button class="btn btn-primary" id="saveSettingsBtn">Save Settings</button>
</div>

</div>

<script>
// GitHub integration variables
let githubToken = '';
let githubRepo = '';

// Sections nav
const sections = {dashboard:document.getElementById('dashboardSection'),users:document.getElementById('usersSection'),
bots:document.getElementById('botsSection'),transactions:document.getElementById('transactionsSection'),
settings:document.getElementById('settingsSection')};

document.querySelectorAll('.sidebar button[data-section]').forEach(btn=>{
  btn.onclick=()=>{Object.values(sections).forEach(s=>s.style.display='none');sections[btn.dataset.section].style.display='block';};
});

// Logout
document.getElementById('logoutBtn').onclick=()=>{localStorage.removeItem('merrick_admin');location.href='index.html';};

// Load Users & Bots
let users=[],bots=[];

async function fetchUsers(){
  if(!githubToken||!githubRepo) return;
  const res = await fetch(https://api.github.com/repos/${githubRepo}/contents/users,{
    headers:{Authorization:'token '+githubToken}});
  const data = await res.json();
  users = data.map(u=>({name:u.name,email:u.name+'@demo.com',balance:1000,bots:[]})); // Simplified demo
  renderUsers();
}

async function fetchBots(){
  if(!githubToken||!githubRepo) return;
  const res = await fetch(https://api.github.com/repos/${githubRepo}/contents/bots,{
    headers:{Authorization:'token '+githubToken}});
  const data = await res.json();
  bots = data.map(b=>({file:b.name,category:'General',price:0}));
  renderBots();
}

function renderUsers(){
  const body=document.querySelector('#userTable tbody'); body.innerHTML='';
  users.forEach(u=>{
    const tr=document.createElement('tr');
    tr.innerHTML=<td>${u.name}</td><td>${u.email}</td><td>Ksh ${u.balance}</td><td>Active</td>;
    body.appendChild(tr);
  });
  document.getElementById('totalUsers').textContent=users.length;
}

function renderBots(){
  const body=document.querySelector('#botTable tbody'); body.innerHTML='';
  bots.forEach((b,i)=>{
    const tr=document.createElement('tr');
    tr.innerHTML=`<td>${b.file}</td><td>${b.category}</td><td>Ksh ${b.price}</td>
    <td><button class="btn-ghost" onclick="removeBot(${i})">Remove</button></td>`;
    body.appendChild(tr);
  });
  document.getElementById('totalBots').textContent=bots.length;
}

async function removeBot(index){
  if(!confirm('Delete this bot from GitHub?')) return;
  const bot = bots[index];
  const res = await fetch(https://api.github.com/repos/${githubRepo}/contents/bots/${bot.file},{
    method:'GET', headers:{Authorization:'token '+githubToken}});
  const fileData = await res.json();
  await fetch(https://api.github.com/repos/${githubRepo}/contents/bots/${bot.file},{
    method:'DELETE',
    headers:{Authorization:'token '+githubToken},
    body:JSON.stringify({message:'Delete bot',sha:fileData.sha})
  });
  bots.splice(index,1); renderBots();
}

// Add Bot
document.getElementById('addBotBtn').onclick=async()=>{
  const f=document.getElementById('botFile').files[0];
  if(!f) return alert('Select a bot file');
  const reader=new FileReader();
  reader.onload=async()=>{
    const content=btoa(reader.result); // Base64 encode
    await fetch(https://api.github.com/repos/${githubRepo}/contents/bots/${f.name},{
      method:'PUT',
      headers:{Authorization:'token '+githubToken},
      body:JSON.stringify({message:'Add bot',content:content})
    });
    alert('Bot uploaded to GitHub'); fetchBots();
  };
  reader.readAsBinaryString(f);
};

// Save settings
document.getElementById('saveSettingsBtn').onclick=()=>{
  githubToken=document.getElementById('githubToken').value.trim();
  githubRepo=document.getElementById('repoName').value.trim();
  if(!githubToken||!githubRepo) return alert('Enter token and repo');
  fetchUsers(); fetchBots();
  alert('GitHub settings saved!');
};

</script>
</body>
</html>
