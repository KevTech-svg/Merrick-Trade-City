<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Merrick Trade City — Admin Panel</title>
<link href="https://cdn.jsdelivr.net/npm/chart.js" rel="stylesheet">
<style>
  body {
    margin: 0;
    font-family: Inter, Arial, sans-serif;
    background: #0a1025;
    color: white;
    display: flex;
    min-height: 100vh;
  }
  /* Sidebar */
  .sidebar {
    width: 220px;
    background: linear-gradient(180deg, #7c5cff, #0f0c29);
    display: flex;
    flex-direction: column;
    padding: 20px;
    gap: 15px;
  }
  .sidebar h2 { margin:0 0 20px 0; font-size:1.5rem; color:#fff; text-align:center; }
  .sidebar button {
    background:none; border:none; color:white; padding:10px; text-align:left;
    cursor:pointer; border-radius:6px; transition:0.3s; font-weight:bold;
  }
  .sidebar button:hover { background: rgba(255,255,255,0.1); }

  /* Main content */
  .main { flex:1; padding:20px; display:flex; flex-direction:column; gap:20px; }

  /* Cards */
  .summary { display:flex; gap:20px; flex-wrap:wrap; }
  .card {
    flex:1 1 180px;
    background: rgba(255,255,255,0.05);
    padding:20px;
    border-radius:12px;
    text-align:center;
    backdrop-filter: blur(8px);
    transition: transform 0.3s, box-shadow 0.3s;
  }
  .card:hover { transform:translateY(-5px); box-shadow:0 10px 20px rgba(124,92,255,0.4); }
  .card h3{ margin:0 0 10px 0; font-size:1.2rem; }
  .card p{ font-size:1.4rem; color:#ddd; }

  /* Tables */
  table {
    width:100%; border-collapse:collapse; background:rgba(255,255,255,0.05);
    border-radius:12px; overflow:hidden;
  }
  th, td { padding:10px; text-align:left; border-bottom:1px solid rgba(255,255,255,0.1); }
  th { background: rgba(124,92,255,0.3); }
  tr:hover { background: rgba(124,92,255,0.2); }
  td img { width:40px; height:40px; border-radius:50%; object-fit:cover; }
  button.action-btn {
    padding:6px 12px; border:none; border-radius:6px; cursor:pointer; color:white;
    font-weight:bold; transition: transform 0.2s, box-shadow 0.2s;
  }
  button.action-btn:hover { transform:translateY(-2px); box-shadow:0 5px 10px rgba(124,92,255,0.5); }
  .edit-btn { background:#7c5cff; }
  .delete-btn { background:#ff6b6b; }

  /* Forms */
  .form-inline { display:flex; gap:10px; margin-bottom:20px; flex-wrap:wrap; }
  .form-inline input, .form-inline select { padding:8px; border-radius:6px; border:none; outline:none; }
  .form-inline button {
    padding:8px 12px; border-radius:6px; border:none;
    background: linear-gradient(90deg,#7c5cff,#ff6b6b); color:white; font-weight:bold; cursor:pointer;
  }
  .form-inline button:hover { transform:translateY(-2px); box-shadow:0 5px 10px rgba(124,92,255,0.5); }

  /* Charts */
  .charts { display:flex; flex-wrap:wrap; gap:20px; }
  .chart-container { flex:1 1 300px; background:rgba(255,255,255,0.05); padding:20px; border-radius:12px; }

  /* Budget display */
  .budget { background: rgba(124,92,255,0.1); padding:15px; border-radius:12px; }

  /* Modal */
  .modal {
    display:none; position:fixed; top:0; left:0; width:100%; height:100%;
    background:rgba(0,0,0,0.6); justify-content:center; align-items:center;
  }
  .modal-content {
    background:#0f0c29; padding:20px; border-radius:12px; text-align:center; width:300px;
  }
  .modal-content input { width:100%; padding:8px; border:none; border-radius:6px; margin-top:10px; }
  .modal-content button {
    margin-top:10px; padding:8px 12px; border:none; border-radius:6px;
    background:#7c5cff; color:white; cursor:pointer;
  }

  @media(max-width:900px) {
    body{ flex-direction:column; }
    .sidebar{ width:100%; flex-direction:row; overflow-x:auto; }
    .main{ padding:10px; }
  }
</style>
</head>
<body>

<div class="sidebar">
  <h2>Admin Panel</h2>
  <button onclick="showSection('dashboard')">Dashboard</button>
  <button onclick="showSection('users')">Users</button>
  <button onclick="showSection('bots')">Bots</button>
  <button onclick="showSection('transactions')">Transactions</button>
  <button onclick="showSection('settings')">Settings</button>
  <button onclick="logout()">Logout</button>
</div>

<div class="main">
  <!-- Dashboard -->
  <div id="dashboard">
    <div class="summary">
      <div class="card"><h3>Total Users</h3><p id="totalUsers">24</p></div>
      <div class="card"><h3>Total Bots</h3><p id="totalBots">12</p></div>
      <div class="card"><h3>Total Balance</h3><p id="totalBalance">Ksh 5,430</p></div>
    </div>
    <div class="charts">
      <div class="chart-container"><canvas id="botCategoryChart"></canvas></div>
      <div class="chart-container"><canvas id="transactionsChart"></canvas></div>
    </div>
  </div>

  <!-- Bots -->
  <div id="bots" style="display:none;">
    <h3>Upload Bot</h3>
    <form class="form-inline" id="botForm">
      <input type="text" id="botName" placeholder="Bot Name" required>
      <input type="text" id="botCategory" placeholder="Category" required>
      <input type="number" id="botPrice" placeholder="Price (Ksh)" required>
      <input type="file" id="botFile" accept=".zip,.xml" required>
      <button type="submit">Upload</button>
    </form>

    <h3>Available Bots</h3>
    <table id="botsTable">
      <thead><tr><th>Name</th><th>Category</th><th>Price</th><th>File</th></tr></thead>
      <tbody></tbody>
    </table>
  </div>

  <!-- Transactions -->
  <div id="transactions" style="display:none;">
    <h3>Transactions</h3>
    <table><thead><tr><th>User</th><th>Bot</th><th>Amount</th><th>Date</th></tr></thead>
      <tbody><tr><td>Kelvin</td><td>GoldBot</td><td>Ksh 800</td><td>22 Oct 2025</td></tr></tbody>
    </table>
  </div>

  <!-- Settings -->
  <div id="settings" style="display:none;">
    <h3>Settings</h3>
    <div class="budget">
      <label>M-Pesa Number:</label>
      <input type="text" id="mpesaNumber" value="0712345678"><br><br>
      <label>Bidget Address:</label>
      <input type="text" id="bidgetAddress" value="Wallet Address 0x44351a88c95f2d7a1038aa7f3c7c81e1908fc77a"><br><br>
      <button onclick="verifyPassword()">Save Changes</button>
    </div>
  </div>
</div>

<!-- Modal -->
<div class="modal" id="passwordModal">
  <div class="modal-content">
    <h3>Enter Admin Password</h3>
    <input type="password" id="adminPass" placeholder="Enter password">
    <button onclick="confirmChanges()">Confirm</button>
  </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script>
  const sections=['dashboard','bots','transactions','settings'];
  function showSection(sec){sections.forEach(s=>document.getElementById(s).style.display=s===sec?'block':'none');}
  function logout(){alert("Logged out!");location.href='index.html';}

  // Charts
  new Chart(document.getElementById('botCategoryChart'),{
    type:'pie',
    data:{labels:['Forex','Crypto','Stocks'],datasets:[{data:[5,3,2],backgroundColor:['#7c5cff','#ff6b6b','#1dd1a1']}]},
    options:{plugins:{legend:{position:'bottom'}}}
  });
  new Chart(document.getElementById('transactionsChart'),{
    type:'bar',
    data:{labels:['Mon','Tue','Wed','Thu','Fri'],datasets:[{label:'Ksh',data:[500,800,300,900,400],backgroundColor:'#7c5cff'}]},
    options:{scales:{y:{beginAtZero:true}}}
  });

  // Bots upload
  const bots=[];
  document.getElementById('botForm').addEventListener('submit',e=>{
    e.preventDefault();
    const name=document.getElementById('botName').value;
    const category=document.getElementById('botCategory').value;
    const price=document.getElementById('botPrice').value;
    const file=document.getElementById('botFile').files[0]?.name;
    bots.push({name,category,price,file});
    updateBotsTable();
    e.target.reset();
  });
  function updateBotsTable(){
    const tbody=document.querySelector('#botsTable tbody');
    tbody.innerHTML=bots.map(b=>`<tr><td>${b.name}</td><td>${b.category}</td><td>Ksh ${b.price}</td><td>${b.file}</td></tr>`).join('');
  }

  // Settings Password Modal
  function verifyPassword(){
    document.getElementById('passwordModal').style.display='flex';
  }
  function confirmChanges(){
    const pass=document.getElementById('adminPass').value;
    if(pass==='0758026285'){
      document.getElementById('passwordModal').style.display='none';
      alert('Changes saved successfully ✅');
    } else alert('Incorrect password ❌');
  }
</script>
</body>
</html>
